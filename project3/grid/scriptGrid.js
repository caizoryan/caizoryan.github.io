let data = [
  //Omama
  {
    file: "../videos/01OMPE.mp4",
    tag: "people",
    question: "Why Do you love conversation, Opening",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/02OMCO.mp4",
    tag: "connection",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/03OMLA.mp4",
    tag: "language",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/04OMCH.mp4",
    tag: "change",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/05OMCO.mp4",
    tag: "connection",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/11OMCU.mp4",
    tag: "culture",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/13OMBAD.mp4",
    tag: "bad conversation",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/14OMPE.mp4",
    tag: "people",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/15OMOP.mp4",
    tag: "open-minded",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/16OMEM.mp4",
    tag: "empathy",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/21OMLA.mp4",
    tag: "language",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/22OMLAART.mp4",
    tag: "language",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/22OMLAART.mp4",
    tag: "art",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/23OMART.mp4",
    tag: "art",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/24OMLAART.mp4",
    tag: "art",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/24OMLAART.mp4",
    tag: "language",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/25OMEM.mp4",
    tag: "empathy",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/19OMLA.mp4",
    tag: "language",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/20OMART.mp4",
    tag: "art",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/26OMTH.mp4",
    tag: "thinking",
    question: "What contributes to having a long engaging conversation?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/27OMCON.mp4",
    tag: "people",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },

  {
    file: "../videos/01AMDE.mp4",
    tag: "debate",
    question: "Why do you love conversation? Opening",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/02AMBAD.mp4",
    tag: "bad conversation",
    question: "Why do you love conversation? Opening",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/03AMPE.mp4",
    tag: "people",
    question: "Why do you love conversation? Opening",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/04AMCU.mp4",
    tag: "culture",
    question: "Why do you love conversation? Opening",
    person: "o",
    transcript: "",
    visited: false,
  },

  {
    file: "../videos/05AMCH.mp4",
    tag: "change",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/06AMPE.mp4",
    tag: "people",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/07AMTHDEOP.mp4",
    tag: "thinking",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/07AMTHDEOP.mp4",
    tag: "debate",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/07AMTHDEOP.mp4",
    tag: "open-minded",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/08AMDEOP.mp4",
    tag: "open-minded",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/08AMDEOP.mp4",
    tag: "debate",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/10AMCU.mp4",
    tag: "open-minded",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/11AMLA.mp4",
    tag: "language",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/12AMLACU.mp4",
    tag: "language",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/12AMLACU.mp4",
    tag: "culture",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/14AMLA.mp4",
    tag: "language",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/15AMART.mp4",
    tag: "art",
    question: "Why do you love conversation, Conclusion?",
    person: "o",
    transcript: "",
    visited: false,
  },

  // sophia
  {
    file: "../videos/02SOEM.mp4",
    tag: "empathy",
    question: "What contributes to having a long engaging conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/03SOTH.mp4",
    tag: "thinking",
    question:
      "Is critical thinking necessary to have an engaging conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/04SOEM.mp4",
    tag: "empathy",
    question:
      "Is critical thinking necessary to have an engaging conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/05SOTH.mp4",
    tag: "thinking",
    question:
      "Is empathy the most important factor to have an engaging conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/06SOEM.mp4",
    tag: "empathy",
    question:
      "Is empathy the most important factor to have an engaging conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/07SOART.mp4",
    tag: "art",
    question: "Is art and design a form of conversation?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/08SOLAART.mp4",
    tag: "language",
    question:
      "Is art and design more ambiguous as a form of conversation than language?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/09SOART.mp4",
    tag: "language",
    question:
      "Is art and design more ambiguous as a form of conversation than language?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/10SOEM.mp4",
    tag: "empathy",
    question:
      "In your conversations, when do you feel like you have been understood by the person you are conversing with?",
    person: "s",
    transcript: "",
    visited: false,
  },
  {
    file: "../videos/11SOTH.mp4",
    tag: "thinking",
    question:
      "Do you feel your thoughts and ideas change while you are in a conversation with someone?",
    person: "s",
    transcript: "",
    visited: false,
  },
];

var audio = new Audio("../click.mp3");

let files = [];
let players = [];
let container = document.querySelector(".grid");
let items = "";
let tags = [];
shuffleArray(data);

// make the buttons
for (const x of data) if (!tags.includes(x.tag)) tags.push(x.tag);
let btns = [];
for (let i = 0; i < tags.length; i++) {
  btns.push(document.createElement("p"));
  btns[i].innerHTML = tags[i];
  btns[i].classList.add("button-class");
  // btns[i].addEventListener("mouseover", soundMake);
  btns[i].addEventListener("mouseover", () => {
    for (let r = 0; r < data.length; r++) {
      document.querySelector(`#my-video${r}`).style.opacity = 0.1;
      document.querySelector(`#my-video${r}`).style.zIndex = -10;
      videojs(`my-video${r}`).muted(true);
      soundMake();
    }

    for (let r = 0; r < data.length; r++) {
      if (data[r].tag == tags[i]) {
        document.querySelector(`#my-video${r}`).style.opacity = 1;
        document.querySelector(`#my-video${r}`).style.zIndex = 10;
        videojs(`my-video${r}`).muted(false);
        videojs(`my-video${r}`).volume(0.4);
      }
    }
  });
  document.querySelector(".tags").appendChild(btns[i]);
}

function filterVideos(setTag) {
  for (let i = 0; i < data.length; i++) {
    if (data[i].tag == setTag)
      document.querySelector(`.my-video${i}`).style.opacity = 0.3;
  }
}

for (let i = 0; i < data.length; i++) {
  items += `<div class="box">
  <video
    onmouseover="unmute(${i})"
    onmouseout="mutethis(${i})"
    id="my-video${i}"
    class="video-js"
    loop muted
    preload="auto"
    autoplay="true"
    fluid="true"
    src="${data[i].file}"
    data-setup="{}"
  ></video>
</div>`;
}

container.innerHTML = items;
function unmute(index) {
  for (let r = 0; r < data.length; r++) {
    videojs(`my-video${r}`).muted(true);
  }
  videojs(`my-video${index}`).muted(false);
  soundMake();
}

function mutethis(index) {
  videojs(`my-video${index}`).muted(true);
}

// function setFiles() {
//   for (let i = 0; i < data.length; i++) {
//     // if (data[i].person === "o")
//     files.push(data[i].file);
//   }
// }

function shuffleArray(array) {
  for (var i = array.length - 1; i > 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    var temp = array[i];
    array[i] = array[j];
    array[j] = temp;
  }
}

function soundMake() {
  audio.play();
}
